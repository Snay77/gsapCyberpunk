<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="CSS/main.css">
    <link href="script.js">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Iceland&display=swap">
    <title>Cyberpunk</title>
</head>

<body>

    <div class="loader">
        <div class="loader-element">
            <p>Loading</p>
            <img src="media/Loader.png" alt="">
        </div>
        <div class="loader-bar">
            <div class="bar"></div>
        </div>
    </div>

    <script>
        // Loader

        document.addEventListener("DOMContentLoaded", function () {
            gsap.to(".bar", {
                duration: 0,
                width: "100%",
                ease: "power1.inOut",
                onComplete: function () {
                    setTimeout(function () {
                        gsap.to(".loader", { duration: 0, opacity: 0, display: "none" });
                        gsap.to("#content", { duration: 1, opacity: 1, display: "block" });
                    }, 0);
                }
            });
        });
    </script>

    <div id="content">
        <section id="start">
            <video autoplay muted loop id="landing-video">
                <source src="media/Cyberpunk 2077 Wallpaper Engine.mp4" type="video/mp4">
            </video>

            <img id="logo" src="media/Logo.png" alt="">

            <a href="#carousel" id="button-start">
                <img src="media/Start.png" alt="" id="image">
                <span>Start</span>
            </a>
        </section>


        <section class="carousel">
            <main>
                <ul class='slider'>
                    <li class='item' style="background-image: url('media/CityCenter.png')">
                        <div class='case'>
                            <h2 class='title'>"Lossless Youths"</h2>
                            <p class='description'> Lorem ipsum, dolor sit amet consectetur
                                adipisicing elit. Tempore fuga voluptatum, iure corporis inventore
                                praesentium nisi. Id laboriosam ipsam enim. </p>
                            <button>Read More</button>
                        </div>
                    </li>
                    <li class='item' style="background-image: url('https://i.redd.it/tc0aqpv92pn21.jpg')">
                        <div class='case'>
                            <h2 class='title'>"Estrange Bond"</h2>
                            <p class='description'> Lorem ipsum, dolor sit amet consectetur
                                adipisicing elit. Tempore fuga voluptatum, iure corporis inventore
                                praesentium nisi. Id laboriosam ipsam enim. </p>
                            <button>Read More</button>
                        </div>
                    </li>
                    <li class='item'
                        style="background-image: url('https://wharferj.files.wordpress.com/2015/11/bio_north.jpg')">
                        <div class='case'>
                            <h2 class='title'>"The Gate Keeper"</h2>
                            <p class='description'> Lorem ipsum, dolor sit amet consectetur
                                adipisicing elit. Tempore fuga voluptatum, iure corporis inventore
                                praesentium nisi. Id laboriosam ipsam enim. </p>
                            <button>Read More</button>
                        </div>
                    </li>
                    <li class='item' style="background-image: url('https://images7.alphacoders.com/878/878663.jpg')">
                        <div class='case'>
                            <h2 class='title'>"Last Trace Of Us"</h2>
                            <p class='description'>
                                Lorem ipsum, dolor sit amet consectetur adipisicing elit. Tempore fuga voluptatum, iure
                                corporis
                                inventore praesentium nisi. Id laboriosam ipsam enim.
                            </p>
                            <button>Read More</button>
                        </div>
                    </li>
                    <li class='item'
                        style="background-image: url('https://theawesomer.com/photos/2017/07/simon_stalenhag_the_electric_state_6.jpg')">
                        <div class='case'>
                            <h2 class='title'>"Urban Decay"</h2>
                            <p class='description'>
                                Lorem ipsum, dolor sit amet consectetur adipisicing elit. Tempore fuga voluptatum, iure
                                corporis
                                inventore praesentium nisi. Id laboriosam ipsam enim.
                            </p>
                            <button>Read More</button>
                        </div>
                    </li>
                    <li class='item'
                        style="background-image: url('https://da.se/app/uploads/2015/09/simon-december1994.jpg')">
                        <div class='case'>
                            <h2 class='title'>"The Migration"</h2>
                            <p class='description'> Lorem ipsum, dolor sit amet consectetur
                                adipisicing elit. Tempore fuga voluptatum, iure corporis inventore
                                praesentium nisi. Id laboriosam ipsam enim. </p>
                            <button>Read More</button>
                        </div>
                    </li>
                </ul>
                <nav class='nav'>
                    <ion-icon class='btn prev' name="arrow-back-outline"></ion-icon>
                    <ion-icon class='btn next' name="arrow-forward-outline"></ion-icon>
                </nav>
            </main>
        </section>

        <script>
            // Carousel

            const slider = document.querySelector('.slider');

            function activate(e) {
                const items = document.querySelectorAll('.item');
                e.target.matches('.next') && slider.append(items[0])
                e.target.matches('.prev') && slider.prepend(items[items.length - 1]);
            }

            document.addEventListener('click', activate, false);
        </script>

        <div class="caracterV">
            <h2>V</h2>
            <img src="media/VH_pp.png" alt="" class="invisible VH">
            <img src="media/VF_pp.png" alt="" class="invisible VF">
        </div>

        <script>
            // V

            document.addEventListener("DOMContentLoaded", function () {
                const imageVH = document.querySelector(".VH");
                const imageVF = document.querySelector(".VF");

                const tl = gsap.timeline({ paused: true });

                tl.set(imageVH, { x: "50%" });
                tl.set(imageVF, { x: "-50%" });
                tl.to([imageVH, imageVF], {
                    duration: 1.75, x: 0, onStart: function () {
                        imageVH.classList.remove('invisible');
                        imageVF.classList.remove('invisible');
                    }
                });

                window.addEventListener("scroll", function () {
                    const caracterVPosition = document.querySelector(".caracterV").getBoundingClientRect();
                    const triggerPosition = window.innerHeight * 0.05;

                    if (caracterVPosition.top < window.innerHeight - triggerPosition && caracterVPosition.bottom >= 0) {
                        tl.play();
                        imageVH.classList.remove('invisible');
                        imageVF.classList.remove('invisible');
                    }
                });
            });
        </script>

        <div class="caracterleft C1" style="background-image: url('media/Wallpaper1.jpg');">
            <h2>Johnny Silverhand</h2>
            <img src="media/Johnny_pp.png" alt="" class="invisible johnny">
            <p>
                Il semble que devenir une légende du rock sans les excès habituels - sexe, drogues, dépression, problèmes juridiques et relations toxiques - soit possible. Johnny Silverhand l'a fait à sa manière classique. En tant que leader de Samurai, il était un visionnaire charismatique, un rebelle avec une cause authentique, et un ennemi farouche des corporations, en particulier Arasaka. Il a créé des succès emblématiques comme "Chippin' In" et "Never Fade Away". Bien qu'il soit décédé lors de l'attaque de la tour Arasaka, son esprit rebelle continue de vivre à travers la biopuce Relic, actuellement hébergée dans le cerveau de V. Cependant, pour Johnny, qui est un narcissique égocentrique, cette situation est un véritable enfer, bien loin de l'agréable alternative qu'est la prison du cyberespace.</p>
        </div>

        <script>
            // Jhonny

            document.addEventListener("DOMContentLoaded", function () {
                const imageJ = document.querySelector(".johnny");
                const tl = gsap.timeline({ paused: true });

                tl.set(imageJ, { x: "250%" });
                tl.to(imageJ, {
                    duration: 1.75, x: 0, onStart: function () {
                        imageJ.classList.remove('invisible');
                    }
                });

                window.addEventListener("scroll", function () {
                    const caracterVPosition = document.querySelector(".C1").getBoundingClientRect();
                    const triggerPosition = window.innerHeight * 0.05;

                    if (caracterVPosition.top < window.innerHeight - triggerPosition && caracterVPosition.bottom >= 0) {
                        tl.play();
                        imageJ.classList.remove('invisible');
                    }
                });
            });
        </script>


<div class="caracterright C2" style="background-image: url('media/Wallpaper1.jpg');">
    <h2>Jackie Welles</h2>
    <img src="media/Johnny_pp.png" alt="" class="invisible johnny">
    <p>
        Fils d'Heywood et fier de l'être, Jackie est également le fils de Mama Welles, ce dont il est encore plus fier. Il est têtu, et quand il veut quelque chose, il n'arrête pas (et n'arrête pas d'en parler) tant qu'il ne l'a pas. Jackie a toujours voulu beaucoup de choses, peut-être un peu trop. À l'adolescence, il a rejoint le gang des Valentinos, pour finalement les quitter en prenant conscience de son véritable potentiel. Pendant des années, il s'est démené dans le monde impitoyable des mercs; forcément, quand on veut s'asseoir à la table des grands, il faut commencer par être pris au sérieux. Dans la vie, Jackie a toujours eu pour but de devenir une légende à l'Afterlife et de ramasser un paquet d'eddies au passage.
    </div>

<script>
    // Jhonny

    document.addEventListener("DOMContentLoaded", function () {
        const imageJ = document.querySelector(".johnny");
        const tl = gsap.timeline({ paused: true });

        tl.set(imageJ, { x: "250%" });
        tl.to(imageJ, {
            duration: 1.75, x: 0, onStart: function () {
                imageJ.classList.remove('invisible');
            }
        });

        window.addEventListener("scroll", function () {
            const caracterVPosition = document.querySelector(".C1").getBoundingClientRect();
            const triggerPosition = window.innerHeight * 0.05;

            if (caracterVPosition.top < window.innerHeight - triggerPosition && caracterVPosition.bottom >= 0) {
                tl.play();
                imageJ.classList.remove('invisible');
            }
        });
    });
</script>

        <div id="caracter-Judy" class="espacement">
            <h2>Judy</h2>
        </div>

        <div id="caracter-Panam" class="espacement">
            <h2>Panam</h2>
        </div>

        <div id="caracter-Takemura" class="espacement">
            <h2>Takemura</h2>
        </div>
    </div>

    </div>

    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
</body>

</html>